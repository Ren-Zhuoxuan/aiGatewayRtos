# aiGatewayRtos
此项目基于3568,目的是构建AI边缘网关设备,第一阶段能采集摄像头图像，运行简单目标检测（RKNN或OpenCV），然后通过串口或网络协议,结合STM32,发送检测结果（如位置、状态）



板子需要安装:
sudo apt install build-essential v4l-utils libjpeg-dev


main.c: 程序入口
include/: 函数声明头文件
src/: 图像采集实现
output/: 保存图像文件



项目阶段
🚀 项目阶段划分（共5阶段）
✅ 阶段一：系统与摄像头准备（入门）
目标：跑通基本系统 + 图像采集预览

📌 子任务：
烧写 Linux 系统（Debian/Ubuntu 或 Buildroot）

确认摄像头节点创建（如 /dev/video0）

使用 v4l2-ctl 和 ffmpeg / GStreamer 预览图像

编写简单 C/C++ 程序使用 V4L2 采集一帧图像并保存

💡 技能点：
设备节点调试

V4L2 基础掌握

简单 Linux 应用开发

✅ 阶段二：集成 OpenCV 或 RKNN 实现目标检测（AI能力）
目标：实现静态图像或视频流中目标检测

📌 子任务（选一）：
OpenCV 路线（无NPU依赖）：

安装OpenCV，运行 Haar 或 DNN 模型（人脸、车牌）

实现图像预处理（灰度、裁剪、ROI）

RKNN Lite 路线（硬件加速）：

集成 RKNN Toolkit Lite

使用 RK 提供的 yolov5 demo 模型推理一张图

输出检测框和置信度坐标

💡 技能点：
图像识别基本流程

模型加载与推理

图像坐标处理

✅ 阶段三：检测结果发送（协议通信）
目标：将识别到的结果通过串口或网络发送出去

📌 子任务：
使用 UART 向外部设备发送一条结构化数据（如 JSON）

编写简单串口驱动或用户态串口收发程序

设计一种简单协议，如：

json
复制
编辑
{"type":"target", "x":123, "y":456}
💡 技能点：
串口设备调试 (/dev/ttyS*)

用户态通信程序（C/Python）

简单通信协议封装

✅ 阶段四：对接 RTOS 或 STM32 模拟飞控
目标：通过串口接收指令，并用 STM32 执行伪动作（如点亮LED）

📌 子任务：
使用 STM32 + FreeRTOS 建一个串口任务

接收 Linux 发来的指令（如识别结果），解析并执行简单操作

打印日志或控制 LED 来表示响应

💡 技能点：
FreeRTOS 创建任务 + 串口通信

与 Linux 通信对接

简单协议解析

✅ 阶段五：系统整合 + 小型演示
目标：实现完整流程：图像采集 → 目标识别 → 通信输出 → STM32响应

📌 子任务：
添加异常处理、状态打印

使用 LCD 显示检测图（可选）

整理脚本与配置，打包系统，生成文档

💡 技能点：
系统集成能力

Shell 脚本编排

项目结构化管理

📦 项目成果输出（适合简历 & 面试）
✅ 项目介绍文档 + 系统结构图

✅ GitHub 开源代码（包含 V4L2 捕获 + OpenCV 检测 + 串口通信）

✅ 串口协议说明

✅ Demo 视频（可选）

✅ 后续可延伸模块说明：4G通信、MQTT、OTA升级等

🎯 你的提升路径
阶段	能力提升
一、二	熟悉 Linux 设备 + 图像处理 + 应用开发
三	掌握串口协议、通信数据封装
四	理解 RTOS 多任务模型，掌握异构协作
五	建立完整产品级开发闭环、具备对接无人机基础